(function(h,o){typeof exports=="object"&&typeof module<"u"?o(exports):typeof define=="function"&&define.amd?define(["exports"],o):(h=typeof globalThis<"u"?globalThis:h||self,o(h.Toast={}))})(this,function(h){"use strict";var ht=h=>{throw TypeError(h)};var tt=(h,o,u)=>o.has(h)||ht("Cannot "+u);var t=(h,o,u)=>(tt(h,o,"read from private field"),u?u.call(h):o.get(h)),i=(h,o,u)=>o.has(h)?ht("Cannot add the same private member more than once"):o instanceof WeakSet?o.add(h):o.set(h,u),r=(h,o,u,z)=>(tt(h,o,"write to private field"),z?z.call(h,u):o.set(h,u),u),d=(h,o,u)=>(tt(h,o,"access private method"),u);var z,F,S,D,N,p,A,T,$,C,M,v,w,b,g,y,P,k,O,H,_,a,m,I,E,L,J,V,q,G,K,Q,R,W,X,Y,U,B,f,x,n,et,ot,dt,ct,ut,st,mt,gt,ft,it,wt,vt,nt,pt,yt,rt,kt;const l=class l{constructor(e=null,s="success",c=5e3){i(this,n);i(this,z,'<svg class="dd-toast-icon-success" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/></svg>');i(this,F,'<svg class="dd-toast-icon-error" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>');i(this,S,'<svg class="dd-toast-icon-info" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z" /></svg>');i(this,D,'<svg class="dd-toast-icon-warning" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z" /></svg>');i(this,N,'<svg class="dd-toast-icon-default" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 18v-5.25m0 0a6.01 6.01 0 001.5-.189m-1.5.189a6.01 6.01 0 01-1.5-.189m3.75 7.478a12.06 12.06 0 01-4.5 0m3.75 2.383a14.406 14.406 0 01-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 10-7.517 0c.85.493 1.509 1.333 1.509 2.316V18" /></svg>');i(this,p,'<div class="{{color}}" role="alert"><div class="dd-toast-flex-template"><div class="dd-toast-flex-template-shrink-0">{{icon}}</div><div class="dd-toast-ml-3"><div class="dd-toast-text-title">{{title}}</div><div class="dd-toast-text-message">{{message}}</div></div></div>{{timer}}<div class="dd-toast-media">{{media}}</div></div>');i(this,A,'<div class="dd-toast-timer {{color-timer}}" {{id-timer}}></div>');i(this,T,"");i(this,$,null);i(this,C,null);i(this,M,"default");i(this,v,5e3);i(this,w,[]);i(this,b,[]);i(this,g,"top-end");i(this,y,!0);i(this,P,!0);i(this,k,!0);i(this,O,null);i(this,H,(...e)=>typeof t(this,O)=="function"?t(this,O).call(this,...e):(console.log(e),null));i(this,_,null);i(this,a,"dt-0");i(this,m,"danidoble-toast");i(this,I,"default");i(this,E,"");i(this,L,"");i(this,J,"dd-toast theme default");i(this,V,"dd-toast theme default-timer");i(this,q,"dd-toast theme success");i(this,G,"dd-toast theme success-timer");i(this,K,"dd-toast theme warning");i(this,Q,"dd-toast theme warning-timer");i(this,R,"dd-toast theme error");i(this,W,"dd-toast theme error-timer");i(this,X,"dd-toast theme info");i(this,Y,"dd-toast theme info-timer");i(this,U,new Map);if(r(this,a,"dt-"+crypto.randomUUID()),e===null)return this;this.show(e,s,c)}toString(){return JSON.stringify(this.getObject())}show(e=null,s="success",c=5e3){if(e===null){d(this,n,rt).call(this).then(()=>{});return}else typeof e=="object"?d(this,n,et).call(this,e):d(this,n,et).call(this,{message:e,type:s,duration:c});d(this,n,rt).call(this).then(()=>{})}getObject(){return{message:t(this,T),title:t(this,$),media:t(this,C),type:t(this,M),duration:t(this,v),position:t(this,g),icon:t(this,_),template:t(this,p),closeOnClick:t(this,y),onClick:t(this,O),theme:t(this,I),showProgressBar:t(this,P),closeByTimer:t(this,k),limitToast:t(l,B)}}on(e,s){t(this,U).set(crypto.randomUUID(),{name:e,callback:s})}static getCurrentToasts(){return{current:t(l,f).size,next:t(l,x).size}}async close(){let e=this.getElement();return e?(d(this,n,it).call(this,e).then(()=>{let s=this.getParent();s&&s.innerHTML===""&&t(l,f).size===0&&t(l,x).size===0&&s.remove()}),new Promise(s=>{s(!0)})):new Promise(s=>{s(!1)})}getId(){return t(this,a)}getFullId(){return`${t(this,m)}-${t(this,a)}`}getFullContainerId(){return`${t(this,m)}-container-${t(this,g)}`}getElement(){return document.getElementById(this.getFullId())}getParent(){return document.getElementById(this.getFullContainerId())}set title(e){r(this,$,e)}get title(){return t(this,$)}set message(e){r(this,T,e)}get message(){return t(this,T)}set media(e){r(this,C,e)}get media(){return t(this,C)}set type(e){r(this,M,e)}get type(){return t(this,M)}set duration(e){r(this,v,e)}get duration(){return t(this,v)}set closeByTimer(e){r(this,k,e)}get closeByTimer(){return t(this,k)}set closeOnClick(e){r(this,y,e)}get closeOnClick(){return t(this,y)}set icon(e){r(this,_,e)}get icon(){return t(this,_)}static set limitToast(e){r(l,B,e)}get limitToast(){return t(l,B)}static get limitToast(){return t(l,B)}set position(e){r(this,g,e)}get position(){return t(this,g)}set showProgressBar(e){r(this,P,e)}get showProgressBar(){return t(this,P)}set template(e){r(this,p,e)}get template(){return t(this,p)}set theme(e){r(this,I,e)}get theme(){return t(this,I)}};z=new WeakMap,F=new WeakMap,S=new WeakMap,D=new WeakMap,N=new WeakMap,p=new WeakMap,A=new WeakMap,T=new WeakMap,$=new WeakMap,C=new WeakMap,M=new WeakMap,v=new WeakMap,w=new WeakMap,b=new WeakMap,g=new WeakMap,y=new WeakMap,P=new WeakMap,k=new WeakMap,O=new WeakMap,H=new WeakMap,_=new WeakMap,a=new WeakMap,m=new WeakMap,I=new WeakMap,E=new WeakMap,L=new WeakMap,J=new WeakMap,V=new WeakMap,q=new WeakMap,G=new WeakMap,K=new WeakMap,Q=new WeakMap,R=new WeakMap,W=new WeakMap,X=new WeakMap,Y=new WeakMap,U=new WeakMap,B=new WeakMap,f=new WeakMap,x=new WeakMap,n=new WeakSet,et=function({message:e="",type:s="default",duration:c=5e3,position:j="top-end",icon:at=null,template:Z=null,closeOnClick:It=!0,onClick:Et=null,theme:lt=null,showProgressBar:Lt=!0,closeByTimer:Bt=!0,media:xt=null,title:Tt=null}){r(this,T,e),r(this,$,Tt),r(this,C,xt),r(this,M,s),r(this,v,c),r(this,g,j),Z!==null&&Z!==""&&r(this,p,Z??t(this,p)),at!==null&&r(this,_,at),r(this,y,It),r(this,O,Et),lt?r(this,I,lt):r(this,I,s),r(this,P,Lt),r(this,k,Bt)},ot=function(){if(t(this,_)!==null)return t(this,_);let e;switch(t(this,M)){case"success":e=t(this,z);break;case"error":e=t(this,F);break;case"info":e=t(this,S);break;case"warning":e=t(this,D);break;default:e=t(this,N);break}return e},dt=function(){let e=t(this,p);return d(this,n,ct).call(this),t(this,P)?e=e.replace("{{timer}}",t(this,A)):e=e.replace("{{timer}}",""),e=e.replace("{{icon}}",d(this,n,ot).call(this)).replace("{{title}}",t(this,$)??"").replace("{{message}}",t(this,T)).replace("{{media}}",t(this,C)??"").replace("{{color}}",t(this,E)).replace("{{color-timer}}",t(this,L)).replace("{{id-timer}}",`id="${t(this,m)}-timer-${t(this,a)}"`),e},ct=function(){switch(t(this,I)){case"success":r(this,E,t(this,q)),r(this,L,t(this,G));break;case"error":r(this,E,t(this,R)),r(this,L,t(this,W));break;case"warning":r(this,E,t(this,K)),r(this,L,t(this,Q));break;case"info":r(this,E,t(this,X)),r(this,L,t(this,Y));break;default:r(this,E,t(this,J)),r(this,L,t(this,V));break}},ut=function(){return["dd-toast-position",t(this,g)]},st=function(){let e=`${t(this,m)}-container-${t(this,g)}`,s=document.getElementById(e);if(!s){let c=document.createElement("div");c.id=e,c.classList.add(...d(this,n,ut).call(this)),c.style.zIndex="1600",c.style.transition="all 0.6s ease-in-out",document.body.append(c),s=c}if(s.clientHeight>window.innerHeight-100)do s.childNodes[0].remove();while(s.clientHeight>window.innerHeight-100);return s},mt=async function(){let e=document.getElementById(`${t(this,m)}-${t(this,a)}`);return new Promise(s=>{setTimeout(()=>{e&&(e.style.translate="0%"),s()},600)})},gt=async function(){let e=this.getElement();t(this,U).forEach(s=>{e==null||e.addEventListener(s.name,s.callback)})},ft=async function(){let e=document.getElementById(`${t(this,m)}-${t(this,a)}`);return e&&(t(this,g).includes("end")?e.style.translate="110%":e.style.translate="-110%"),new Promise(s=>{setTimeout(()=>{e==null||e.dispatchEvent(new Event("closed")),s()},600)})},it=async function(e){await d(this,n,ft).call(this),e.remove(),t(l,f).has(t(this,a))&&t(l,f).delete(t(this,a)),delete t(this,b)[t(this,a)],t(this,w)[t(this,a)]&&clearInterval(t(this,w)[t(this,a)]),delete t(this,w)[t(this,a)]},wt=function(){let e=d(this,n,dt).call(this),s=document.createElement("div");return s.id=`${t(this,m)}-${t(this,a)}`,s.innerHTML=e,s.classList.add(t(this,m)),s.style.transition="all 0.5s ease-in-out",t(this,g).includes("end")?s.style.translate="110%":s.style.translate="-110%",t(this,k)&&(d(this,n,vt).call(this,s),d(this,n,pt).call(this,s)),d(this,n,yt).call(this,s),s},vt=function(e){e.addEventListener("mouseover",()=>{t(this,w)[t(this,a)]&&clearInterval(t(this,w)[t(this,a)])})},nt=function(e,s=null){s||(s=document.getElementById(`${t(this,m)}-timer-${t(this,a)}`)),t(this,w)[t(this,a)]=setInterval(()=>{t(this,b)[t(this,a)]<=0?(clearInterval(t(this,w)[t(this,a)]),delete t(this,w)[t(this,a)],d(this,n,it).call(this,e).then(()=>{let c=this.getParent();c&&c.innerHTML===""&&t(l,f).size===0&&t(l,x).size===0&&c.remove()})):(s||(s=document.getElementById(`${t(this,m)}-timer-${t(this,a)}`)),s&&(s.style.width=100-(t(this,v)-t(this,b)[t(this,a)])*100/t(this,v)+"%"),t(this,b)[t(this,a)]-=10)},10)},pt=function(e){e.addEventListener("mouseout",()=>{d(this,n,nt).call(this,e)})},yt=function(e){if(t(this,H)!==null&&t(this,H)!==void 0&&typeof t(this,H)=="function"){e.classList.add("dd-toast-pointer");let s=this;e.addEventListener("click",async(...c)=>{var j;t(s,y)&&await s.close(),t(j=s,H).call(j,s,...c)})}else if(t(this,y)){e.classList.add("dd-toast-pointer");let s=this;e.addEventListener("click",async()=>{await s.close()})}},rt=async function(){let e=d(this,n,st).call(this);await d(this,n,kt).call(this,t(this,a));let s=d(this,n,wt).call(this);e.append(s),await d(this,n,gt).call(this),await d(this,n,mt).call(this),t(this,b)[t(this,a)]=t(this,v),t(this,k)&&d(this,n,nt).call(this,s,document.getElementById(`${t(this,m)}-timer-${t(this,a)}`))},kt=async function(e){let s=this.getParent();return t(l,f).size<t(l,B)?(t(l,f).set(e,e),new Promise(c=>{c(!1)})):(t(l,x).set(e,e),new Promise(c=>{let j=setInterval(async()=>{s||(s=d(this,n,st).call(this)),s&&t(l,f).size<t(l,B)&&t(l,x).has(e)&&(t(l,f).set(e,e),t(l,x).delete(e),clearInterval(j),c(!0))},50)}))},i(l,B,5),i(l,f,new Map),i(l,x,new Map);let o=l;function u(_t=null,e="success",s=5e3){return new o(_t,e,s)}h.Toast=o,h.toast=u,Object.defineProperty(h,Symbol.toStringTag,{value:"Module"})});
